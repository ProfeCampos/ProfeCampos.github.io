<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tomo 9: DHT11, Rel√©, LCD - Manual de Instrumentaci√≥n</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="tomo-style.css">
</head>
<body>
    <header>
        <div class="header-container">
            <h1>Tomo 9: El Panorama Completo - DHT11, Rel√©s y LCD</h1>
        </div>
    </header>
    <main class="tomo-content">
        <a href="index.html" class="back-link">&larr; Volver al √çndice Principal</a>
        <p>¬°Saludos, futuros ingenieros! Hoy vamos a dar un salto gigante: aprenderemos a leer dos variables ambientales con un solo sensor, a controlar aparatos del mundo real (como los que se conectan a la pared) y a mostrar toda esa informaci√≥n de manera profesional en una pantalla de cristal l√≠quido (LCD).</p>

        <div class="protagonista-section">
            <h3>üß† Protagonista 1: Sensor DHT11 (El Combo Digital 2x1)</h3>
            <p>El DHT11 es un sensor incre√≠blemente pr√°ctico. Es como tener un term√≥metro y un medidor de humedad en un solo paquete digital. Con un solo pin de datos obtenemos dos mediciones.</p>
        </div>
        <div class="protagonista-section">
            <h3>‚öôÔ∏è Protagonista 2: El M√≥dulo de Rel√© (El Interruptor de Alto Voltaje)</h3>
            <p>¬øQu√© pasa si queremos controlar una l√°mpara de 120V? ¬°NUNCA la conectes a tu Arduino! Para eso usamos un <strong>Rel√©</strong>. Es un interruptor electromagn√©tico que usa una se√±al segura de 5V de Arduino para activar un interruptor interno, completamente aislado, que puede manejar alto voltaje de forma segura.</p>
        </div>
        <div class="protagonista-section">
            <h3>üñ•Ô∏è Protagonista 3: La Pantalla LCD 16x2 con I2C</h3>
            <p>Para que nuestro proyecto sea independiente de la computadora, necesitamos una pantalla. La LCD 16x2 puede mostrar 2 filas de 16 caracteres. Para no usar todos nuestros pines, usamos un peque√±o m√≥dulo <strong>I2C</strong> soldado detr√°s, que reduce los cables necesarios a solo 4: VCC, GND, SDA (A4) y SCL (A5).</p>
        </div>

        <h2>üß† El C√≥digo: El Centro de Comando</h2>
        <p>Este c√≥digo necesita varias librer√≠as. Aseg√∫rate de instalarlas desde el Gestor de Librer√≠as de Arduino IDE: <em>DHT sensor library (de Adafruit)</em> y <em>LiquidCrystal_I2C</em>.</p>
        <pre class="code-block"><code>
/*
 * Misi√≥n 09: El Panorama Completo
 * Descripci√≥n: Muestra Temp/Humedad del DHT11 en una LCD y activa un rel√©.
 * Por: Profe Campos
 * CECyTEM 05 Guacamayas
*/

#include <Wire.h>
#include <LiquidCrystal_I2C.h>
#include "DHT.h"

#define DHTPIN 2
#define DHTTYPE DHT11
const int pinRele = 7;

DHT dht(DHTPIN, DHTTYPE);
LiquidCrystal_I2C lcd(0x27, 16, 2);

void setup() {
  pinMode(pinRele, OUTPUT);
  digitalWrite(pinRele, LOW); // Asegurarse que el rel√© empiece apagado.

  dht.begin();
  
  lcd.init();
  lcd.backlight();
  lcd.setCursor(0, 0);
  lcd.print("Estacion CTEC");
  lcd.setCursor(0, 1);
  lcd.print("Iniciando...");
  delay(2000);
  lcd.clear();
}

void loop() {
  delay(2000); // Esperamos 2 segundos entre lecturas.

  float h = dht.readHumidity();
  float t = dht.readTemperature();

  if (isnan(h) || isnan(t)) {
    lcd.clear();
    lcd.print("Error de Sensor");
    return;
  }

  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("Temp: "); lcd.print(t); lcd.print(" C");
  lcd.setCursor(0, 1);
  lcd.print("Hum:  "); lcd.print(h); lcd.print(" %");

  if (t > 30.0) {
    digitalWrite(pinRele, HIGH);
  } else {
    digitalWrite(pinRele, LOW);
  }
}
        </code></pre>

        <h2>üîå Manos a la Obra: El Circuito</h2>
        <p>Conectaremos los tres m√≥dulos principales. La parte m√°s delicada es la conexi√≥n del foco al lado de potencia del rel√©. <strong>¬°Pide supervisi√≥n del Profe Campos para este paso!</strong></p>
        <div class="image-container">
            <h3>Diagrama del Circuito 9</h3>
            <img src="tomo 9.png" alt="Diagrama de conexi√≥n de un sensor DHT11, una pantalla LCD I2C y un m√≥dulo de rel√©">
        </div>

        <h2>üí° Conceptos Clave de la Misi√≥n</h2>
        <ul>
            <li><strong>Aislamiento El√©ctrico:</strong> El rel√© a√≠sla completamente el circuito de control de bajo voltaje del circuito de potencia de alto voltaje, lo que es crucial por seguridad.</li>
            <li><strong>Comunicaci√≥n I2C:</strong> Un protocolo que permite conectar m√∫ltiples dispositivos (sensores, pantallas) usando solo dos pines (SDA y SCL).</li>
        </ul>

        <h2>üöÄ ¬°Int√©ntalo T√∫ Mismo! (Retos)</h2>
        <ul>
            <li><strong>Control de Humedad:</strong> Modifica la l√≥gica para que el rel√© se active si la humedad supera el 70%, simulando un deshumidificador.</li>
            <li><strong>Doble Condici√≥n:</strong> Cambia el c√≥digo para que el rel√© solo se active si la temperatura es alta Y la humedad tambi√©n es alta (operador `&&`).</li>
            <li><strong>Mensajes en LCD:</strong> Haz que en la pantalla LCD aparezca un mensaje como "Ventilador ON" o "Ventilador OFF" seg√∫n el estado del rel√©.</li>
        </ul>
        <a href="index.html" class="back-link bottom-link">&larr; Volver al √çndice Principal</a>
    </main>
    <footer>
        <p>Manual Digital de Instrumentaci√≥n Industrial | CECyTEM 05 Guacamayas</p>
    </footer>
</body>

</html>

