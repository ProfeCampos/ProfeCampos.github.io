<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tomo 10: Proyecto 2 - Manual de Instrumentaci贸n</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="tomo-style.css">
</head>
<body>
    <header>
        <div class="header-container">
            <h1>Tomo 10: 隆PROYECTO INTEGRADOR 2! - Estaci贸n de Control T茅rmico</h1>
        </div>
    </header>
    <main class="tomo-content">
        <a href="index.html" class="back-link">&larr; Volver al ndice Principal</a>
        <p>隆Es hora del segundo gran proyecto! Vamos a integrar todo lo aprendido en el parcial para construir un sistema de control de temperatura inteligente y con m煤ltiples niveles de acci贸n. Nuestro dispositivo no solo reaccionar谩 al calor, sino que tomar谩 diferentes medidas dependiendo de la gravedad de la situaci贸n, mostrando toda la informaci贸n en tiempo real.</p>
        
        <div class="protagonista-section">
            <h3> La L贸gica del Proyecto: Control por Niveles con `if / else if / else`</h3>
            <p>A veces, no basta con una sola decisi贸n `if/else`. Necesitamos una cadena de decisiones. La estructura `if / else if / else` nos permite evaluar m煤ltiples condiciones en orden. El programa revisa la primera condici贸n `if`. Si no se cumple, revisa la siguiente `else if`. Contin煤a as铆 hasta que encuentra una que sea verdadera o llega al `else` final, que act煤a como la opci贸n por defecto. Esto es perfecto para crear sistemas con diferentes "modos" o "niveles de alerta".</p>
        </div>

        <h2> El C贸digo: Un Sistema de Alerta Multinivel</h2>
        <p>Construiremos un termostato que lee la temperatura con el LM35, la muestra en la LCD, y toma acciones por niveles: si hace un poco de calor, enciende un ventilador (con transistor); si hace mucho calor, adem谩s del ventilador, activa una alarma (con un rel茅).</p>
        <pre class="code-block"><code>
/*
 * PROYECTO INTEGRADOR 2: Estaci贸n de Control T茅rmico
 * Descripci贸n: Sistema de control con dos umbrales de temperatura
 * que activa diferentes actuadores.
 * Por: Profe Campos
 * CECyTEM 05 Guacamayas
*/

#include <Wire.h>
#include <LiquidCrystal_I2C.h>

const int pinSensor = A0;         // Pin del sensor LM35.
const int pinVentilador = 9;      // Pin para el transistor del ventilador.
const int pinAlarma = 7;          // Pin para el rel茅 de la alarma.
const float UMBRAL_VENTILADOR = 28.0; // 1er nivel de alerta.
const float UMBRAL_PELIGRO = 35.0;    // 2do nivel de alerta.

LiquidCrystal_I2C lcd(0x27, 16, 2);

void setup() {
  pinMode(pinVentilador, OUTPUT);
  pinMode(pinAlarma, OUTPUT);
  digitalWrite(pinVentilador, LOW);
  digitalWrite(pinAlarma, LOW);
  lcd.init();
  lcd.backlight();
}

void loop() {
  // Leemos y convertimos la temperatura del LM35.
  float temp = ((analogRead(pinSensor) / 1023.0) * 5.0) * 100;
  
  // Mostramos la temperatura en la LCD.
  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("Temp: "); lcd.print(temp, 1); lcd.print(" C");
  
  // Cadena de decisiones:
  if (temp > UMBRAL_PELIGRO) { // 1. 驴Supera el umbral de peligro?
    lcd.setCursor(0, 1); lcd.print(">> PELIGRO <<");
    digitalWrite(pinVentilador, HIGH);
    digitalWrite(pinAlarma, HIGH);
  } else if (temp > UMBRAL_VENTILADOR) { // 2. Si no, 驴supera el umbral del ventilador?
    lcd.setCursor(0, 1); lcd.print("Enfriando...");
    digitalWrite(pinVentilador, HIGH);
    digitalWrite(pinAlarma, LOW);
  } else { // 3. Si no se cumple ninguna de las anteriores...
    lcd.setCursor(0, 1); lcd.print("Estado: Normal");
    digitalWrite(pinVentilador, LOW);
    digitalWrite(pinAlarma, LOW);
  }
  delay(1000);
}
        </code></pre>

        <h2> Manos a la Obra: El Circuito</h2>
        <p>Integraremos el circuito del LM35 + Transistor con el de la LCD + Rel茅, creando un sistema de control aut贸nomo y con m煤ltiples niveles de acci贸n.</p>
        <div class="image-container">
            <h3>Diagrama del Circuito 10</h3>
            <img src="https://i.imgur.com/G5c9r8F.png" alt="Diagrama de conexi贸n del proyecto final del segundo parcial">
        </div>

        <h2> Conceptos Clave de la Misi贸n</h2>
        <ul>
            <li><strong>L贸gica `if / else if / else`:</strong> Permite crear una cadena de decisiones para manejar m煤ltiples estados o niveles en un sistema.</li>
            <li><strong>Sistemas Embebidos:</strong> Un dispositivo con una computadora dedicada a una tarea espec铆fica, como nuestro termostato, que es un prototipo de un sistema embebido real.</li>
        </ul>

        <h2> 隆Int茅ntalo T煤 Mismo! (Retos)</h2>
        <ul>
            <li><strong>Umbrales Ajustables:</strong> A帽ade dos potenci贸metros. Uno para ajustar el `UMBRAL_VENTILADOR` y otro para el `UMBRAL_PELIGRO` en tiempo real. 隆Muestra los valores de umbral en la LCD!</li>
            <li><strong>Modo Silencio:</strong> Agrega un bot贸n que, al ser presionado, desactive la alarma del rel茅 temporalmente, aunque la temperatura siga en nivel de peligro.</li>
            <li><strong>Registro de Temperatura M谩xima:</strong> Programa el sistema para que recuerde y muestre en la LCD la temperatura m谩s alta que se ha registrado desde que se encendi贸.</li>
        </ul>
        <a href="index.html" class="back-link bottom-link">&larr; Volver al ndice Principal</a>
    </main>
    <footer>
        <p>Manual Digital de Instrumentaci贸n Industrial | CECyTEM 05 Guacamayas</p>
    </footer>
</body>
</html>