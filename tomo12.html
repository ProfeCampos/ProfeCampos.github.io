<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tomo 12: Term贸metro Multiescala - Manual de Instrumentaci贸n</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="tomo-style.css">
</head>
<body>
    <header>
        <div class="header-container">
            <h1>Tomo 12: Term贸metro Multiescala con Interfaz Gr谩fica</h1>
        </div>
    </header>
    <main class="tomo-content">
 <div class="nav-links">
            <a href="index.html" class="nav-link">&larr; Volver al ndice</a>
            <a href="tomo13.html" class="nav-link">Tomo Siguiente &rarr;</a>
        </div>
        <p>Hoy vamos a subir de nivel en la precisi贸n de nuestras mediciones y en la calidad de nuestra interfaz visual. Crearemos un term贸metro de alta precisi贸n con el sensor <strong>DS18B20</strong>, mostraremos los datos en una n铆tida <strong>pantalla OLED</strong> y usaremos un <strong>Joystick</strong> para navegar entre m煤ltiples pantallas, como si fuera un dispositivo profesional.</p>

        <div class="protagonista-section">
            <h3> Protagonistas de la Misi贸n</h3>
            <p><strong>DS18B20:</strong> Un term贸metro digital de alta precisi贸n que se comunica por el protocolo "One-Wire", permitiendo conectar varios sensores a un solo pin.<br>
            <div class="image-container">
            <img src="ds18b20 piout.png" alt="pinout ds18b20">
            </div>
            <strong>Pantalla OLED:</strong> Una pantalla de alto contraste que no necesita luz de fondo, perfecta para gr谩ficos n铆tidos y de bajo consumo.<br>
            <div class="image-container">
            <img src="I2C-OLED-Display-Pinout.png" alt="pinout oled">
            </div>
            <strong>M贸dulo Joystick:</strong> Nuestro dispositivo de entrada, que combina dos potenci贸metros (ejes X/Y) y un bot贸n para navegar por los men煤s.</p>
             <div class="image-container">
            <img src="Pinout-PS2-Joystick-Module.png" alt="pinout oled">
            </div>        
        </div>

        <h2> El C贸digo: El Sistema Operativo del Term贸metro</h2>
        <p>Este c贸digo avanzado usa una variable para saber qu茅 men煤 mostrar (`pantallaActual`). El joystick cambia el valor de esta variable, y una estructura `if/else if` en el `loop` se encarga de dibujar la pantalla correcta.</p>
        <pre class="code-block"><code>
/*
 * Misi贸n 12 (Modificada): Term贸metro Multiescala con UI
 * Por: Profe Campos
 * CECyTEM 05 Guacamayas
*/

#include <OneWire.h>
#include <DallasTemperature.h>
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, -1);

#define ONE_WIRE_BUS 2
OneWire oneWire(ONE_WIRE_BUS);
DallasTemperature sensors(&oneWire);

const int pinJoyY = A0;

int pantallaActual = 0;
float tempC, tempF, tempK, tempR;

// (El resto del c贸digo como se proporcion贸 anteriormente, con las funciones
// setup(), loop(), dibujarPantallaCR(), dibujarPantallaFK(),
// dibujarPantallaGrafica() y dibujarTermometro())
        </code></pre>

        <h2> Manos a la Obra: El Circuito</h2>
        <p>Este circuito integra los tres m贸dulos principales. La conexi贸n m谩s importante es la resistencia de <strong>4.7k惟</strong>, que es obligatoria para que el protocolo One-Wire del sensor DS18B20 funcione correctamente.</p>
        <div class="image-container">
            <h3>Diagrama del Circuito 12</h3>
            <img src="Tomo 12.png" alt="Diagrama de conexi贸n de un sensor DS18B20, una pantalla OLED y un joystick">
        </div>

        <h2> Conceptos Clave de la Misi贸n</h2>
        <ul>
            <li><strong>Protocolo One-Wire:</strong> Un bus de comunicaci贸n que permite que m煤ltiples dispositivos se comuniquen con el microcontrolador a trav茅s de un solo cable de datos.</li>
            <li><strong>Interfaz de Usuario (UI):</strong> Dise帽ar c贸mo el usuario interact煤a con el dispositivo, lo que es clave para que un proyecto sea 煤til y f谩cil de usar.</li>
            <li><strong>M谩quina de Estados:</strong> Un modelo de programaci贸n donde el sistema se encuentra en uno de varios "estados" (pantallas) y cambia entre ellos basado en las entradas.</li>
        </ul>

        <h2> 隆Int茅ntalo T煤 Mismo! (Retos)</h2>
        <ul>
            <li><strong>Pantalla de Bienvenida Animada:</strong> Crea una secuencia de inicio animada en la funci贸n `setup()`, por ejemplo, el nombre "CECyTEM 05" apareciendo letra por letra.</li>
            <li><strong>Registrador de Datos:</strong> Programa una cuarta pantalla en el men煤 que muestre las temperaturas m谩xima y m铆nima registradas. Usa el bot贸n del joystick para reiniciar estos valores.</li>
            <li><strong>Alarma Visual de Temperatura:</strong> En la pantalla de los term贸metros gr谩ficos, haz que si la temperatura supera un umbral (ej. 30掳C), el contorno del term贸metro de Celsius comience a parpadear.</li>
        </ul>
<div class="nav-links bottom-nav-links">
            <a href="index.html" class="nav-link">&larr; Volver al ndice</a>
            <a href="tomo13.html" class="nav-link">Tomo Siguiente &rarr;</a>
        </div>
</main>
    <footer>
        <p>Manual Digital de Instrumentaci贸n Industrial | CECyTEM 05 Guacamayas</p>
    </footer>
</body>

</html>

